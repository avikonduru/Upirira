(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,a,t){e.exports=t(254)},155:function(e,a,t){},254:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(39),l=t.n(c),s=t(16),o=t(35),i=t(8),u=t(31),m=t(109),d=t(110),E=t(122),p="LOGOUT",f=[],h=t(10),g={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},v={metrics:{oneDayTotal:null,oneWeekTotal:null,oneMonthTotal:null,oneYearTotal:null},loading:!0,errors:!1},y={graphData:{graphTitle:"",graphDates:[],graphAmounts:[]},loading:!0,errors:!1},b={receiversData:[],userReceiver:null,dashLink:null,loading:!0},R={transactionsData:[],plaidItems:{},loading:!0,errors:!1},S={selectedReceiver:null,loading:!0,errors:!1},O=Object(u.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_ALERT":return[].concat(Object(E.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"USER_LOADED":return Object(h.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(h.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case p:return localStorage.removeItem("token"),Object(h.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},metrics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_METRICS":return Object(h.a)({},e,{loading:!1,metrics:n});case"CLEAR_METRICS":case p:return Object(h.a)({},e,{loading:!1,metrics:{oneDayTotal:null,oneWeekTotal:null,oneMonthTotal:null,oneYearTotal:null}});case"METRICS_ERROR":return Object(h.a)({},e,{errors:n});default:return e}},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_GRAPH":return Object(h.a)({},e,{loading:!1,graphData:n});case"CLEAR_GRAPH":case p:return Object(h.a)({},e,{loading:!1,graphData:{graphTitle:"",graphDates:[],graphAmounts:[]}});case"GRAPH_ERROR":return Object(h.a)({},e,{errors:n});default:return e}},receivers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_RECEIVERS":return Object(h.a)({},e,{loading:!1,receiversData:n});case"SET_USER_RECEIVER":return Object(h.a)({},e,{loading:!1,userReceiver:n});case"SET_RECEIVER_DASH_LINK":return Object(h.a)({},e,{loading:!1,dashLink:n});case"CLEAR_RECEIVERS":case"RECEIVERS_ERROR":case p:return Object(h.a)({},e,{loading:!1,receiversData:[],userReceiver:null,dashLink:null});default:return e}},plaid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_PLAID_ITEMS":return Object(h.a)({},e,{plaidItems:n,loading:!1});case"CLEAR_PLAID_ITEMS":case p:return Object(h.a)({},e,{plaidItems:null,loading:!1});case"SET_PLAID_TRANSACTIONS":return Object(h.a)({},e,{transactionsData:n,loading:!1});case"PLAID_ERROR":return Object(h.a)({},e,{loading:!1,transactionsData:[],plaidItems:null});case"GET_ACCESS_TOKEN":case"SET_PUBLIC_TOKEN":default:return e}},selected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_SELECTED":return Object(h.a)({},e,{loading:!1,errors:!1,selectedReceiver:n});case"CLEAR_SELECTED":case p:return Object(h.a)({},e,{loading:!1,errors:!1,selectedReceiver:null});case"SELECTED_ERROR":return Object(h.a)({},e,{errors:n});default:return e}}}),w=[d.a],x=Object(u.createStore)(O,{},Object(m.composeWithDevTools)(u.applyMiddleware.apply(void 0,w))),T=t(6),k=t.n(T),N=t(111),C=t.n(N).a.create({baseURL:"http://localhost:5000"}),I=t(112),L=t.n(I),j=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=L.a.v4(),c.next=3,k.a.awrap(n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:r}}));case 3:setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),t);case 4:case"end":return c.stop()}}))}},_=function(e){e?C.defaults.headers.common.Authorization="Bearer "+e:delete C.defaults.headers.common.Authorization},A=function(){return function(e){var a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&_(localStorage.token),t.prev=1,t.next=4,k.a.awrap(C.get("/api/users/user"));case 4:a=t.sent,e({type:"USER_LOADED",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"AUTH_ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},D=(t(154),t(155),t(48)),F=t(29),P=t(49),B=t(77),G=t(30),U=t(12);function M(){var e=Object(D.a)(["\n\tfont-family: 'Montserrat', sans-serif;\n"]);return M=function(){return e},e}var H=Object(P.a)(B.a.Brand)(M()),V={logout:function(){return function(e){e({type:p})}}},W=Object(i.b)((function(e){return{auth:e.auth}}),V)((function(e){var a=e.auth,t=a.isAuthenticated,c=a.loading,l=a.user,s=e.logout,o=r.a.createElement(n.Fragment,null,r.a.createElement(F.LinkContainer,{to:"/dash"},r.a.createElement(H,null,r.a.createElement("h2",null,"UPIRIA"))),r.a.createElement(G.a,{className:"ml-auto"},r.a.createElement(F.LinkContainer,{to:"/dash",className:"mx-2"},r.a.createElement(G.a.Link,null,"Dash")),l&&!l.selectedReceiverId&&r.a.createElement(F.LinkContainer,{to:"/search",className:"mx-2"},r.a.createElement(G.a.Link,null,"Search")),l&&l.isReceiver&&r.a.createElement(F.LinkContainer,{to:"/receiver",className:"mx-2"},r.a.createElement(G.a.Link,null,"Receiver")),r.a.createElement(F.LinkContainer,{to:"/settings",className:"mx-2"},r.a.createElement(G.a.Link,null,"Settings")),r.a.createElement(U.a,{variant:"danger",onClick:s,className:"mx-2"},"Log Out"))),i=r.a.createElement(n.Fragment,null,r.a.createElement(F.LinkContainer,{to:"/"},r.a.createElement(H,null,r.a.createElement("h2",null,"UPIRIA"))),r.a.createElement(G.a,{className:"ml-auto"},r.a.createElement(F.LinkContainer,{to:"/login",className:"mx-2"},r.a.createElement(G.a.Link,null,"Login")),r.a.createElement(F.LinkContainer,{to:"/register",className:"mx-2"},r.a.createElement(G.a.Link,null,"Register"))));return r.a.createElement(B.a,{bg:"primary",variant:"dark",sticky:"top"},!c&&r.a.createElement(n.Fragment,null,t?o:i))})),z=t(17),J=t(11),K=t(13),Y=t(21),$=t(22);function q(){var e=Object(D.a)(["\n\tbackground: #eceff1;\n"]);return q=function(){return e},e}function Z(){var e=Object(D.a)(["\n\tbackground: #007bff;\n"]);return Z=function(){return e},e}var Q=Object(P.a)(z.a)(Z()),X=Object(P.a)(z.a)(q()),ee=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){return e.isAuthenticated?r.a.createElement(o.c,{to:"/dash"}):r.a.createElement(n.Fragment,null,r.a.createElement(Q,{fluid:!0,className:"text-white py-5"},r.a.createElement(J.a,{className:"py-5"}),r.a.createElement(J.a,{className:"py-3 px-5"},r.a.createElement(K.a,null,r.a.createElement("h1",{class:"display-1"},"OUR MISSION:"))),r.a.createElement(J.a,{className:"py-3 px-5"},r.a.createElement(K.a,null,"To provide people a better way of supporting local and national political figures")),r.a.createElement(J.a,{className:"py-3 px-5"},r.a.createElement(K.a,null,r.a.createElement(s.Link,{to:"/register"},r.a.createElement(U.a,{variant:"light",className:"text-primary"},"Register")))),r.a.createElement(J.a,{className:"py-4"})),r.a.createElement(X,{fluid:!0,className:"m-5"},r.a.createElement(J.a,null,r.a.createElement(K.a,{className:"px-5"},r.a.createElement(J.a,null,r.a.createElement(Y.a,{icon:$.f,size:"2x",color:"#007bff"})),r.a.createElement(J.a,null,r.a.createElement("h4",null,"Support")),r.a.createElement(J.a,null,"Conveniently support your favorite politicians and political figures")),r.a.createElement(K.a,{className:"px-5"},r.a.createElement(J.a,null,r.a.createElement(Y.a,{icon:$.a,size:"2x",color:"#007bff"})),r.a.createElement(J.a,null,r.a.createElement("h4",null,"Track")),r.a.createElement(J.a,null,"Our dash tools allow you to easily track how much you are spending")),r.a.createElement(K.a,{className:"px-5"},r.a.createElement(J.a,null,r.a.createElement(Y.a,{icon:$.d,size:"2x",color:"#007bff"})),r.a.createElement(J.a,null,r.a.createElement("h4",null,"Secure")),r.a.createElement(J.a,null,"We provide a secure method of transacting currency")))))})),ae=t(3),te=t.n(ae),ne=t(78);ne.a.propTypes={alerts:te.a.array.isRequired};var re=Object(i.b)((function(e){return{alerts:e.alert}}))((function(e){var a=e.alerts;return r.a.createElement(n.Fragment,null,null!==a&&a.length>0&&a.map((function(e){return r.a.createElement(ne.a,{key:e.id,variant:"".concat(e.alertType)},e.msg)})))})),ce=t(32),le=t(24),se=t(5),oe=t(9),ie={setAlert:j,register:function(e){var a=e.firstName,t=e.lastName,n=e.email,r=e.password;return function(e){var c,l,s,o;return k.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return c={headers:{"Content-Type":"application/json"}},l=JSON.stringify({firstName:a,lastName:t,email:n,password:r}),i.prev=2,i.next=5,k.a.awrap(C.post("/api/users/user/register",l,c));case 5:s=i.sent,e({type:"REGISTER_SUCCESS",payload:s.data}),e(A()),i.next=16;break;case 10:i.prev=10,i.t0=i.catch(2),console.log(i.t0.response.data.errors),(o=i.t0.response.data.errors)&&o.forEach((function(a){return e(j(a.msg,"danger"))})),e({type:"REGISTER_FAIL"});case 16:case"end":return i.stop()}}),null,null,[[2,10]])}}},ue=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),ie)((function(e){var a=e.setAlert,t=e.register,c=e.isAuthenticated,l=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),i=Object(le.a)(l,2),u=i[0],m=i[1],d=u.firstName,E=u.lastName,p=u.email,f=u.password,g=u.confirmPassword,v=function(e){m(Object(h.a)({},u,Object(ce.a)({},e.target.name,e.target.value)))};return c?r.a.createElement(o.c,{to:"/dash"}):r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"my-5 p-2 shadow-sm"},r.a.createElement(se.a.Header,{style:{"background-color":"white"}},r.a.createElement("h3",null,"Register")),r.a.createElement(se.a.Body,null,r.a.createElement(oe.a,{onSubmit:function(e){return function(e){return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),f!==g?(a("Passwords do not match","danger"),console.log("Passwords do not match")):t({firstName:d,lastName:E,email:p,password:f});case 2:case"end":return n.stop()}}))}(e)}},r.a.createElement(oe.a.Group,{controlId:"formBasicFirstName"},r.a.createElement(oe.a.Label,null,"First Name:"),r.a.createElement(oe.a.Control,{type:"text",placeholder:"Enter First Name",name:"firstName",value:d,onChange:function(e){return v(e)}})),r.a.createElement(oe.a.Group,{controlId:"formBasicLastName"},r.a.createElement(oe.a.Label,null,"Last Name:"),r.a.createElement(oe.a.Control,{type:"text",placeholder:"Enter Last Name",name:"lastName",value:E,onChange:function(e){return v(e)}})),r.a.createElement(oe.a.Group,{controlId:"formBasicEmail"},r.a.createElement(oe.a.Label,null,"Email address:"),r.a.createElement(oe.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:p,onChange:function(e){return v(e)}})),r.a.createElement(oe.a.Group,{controlId:"formBasicPassword"},r.a.createElement(oe.a.Label,null,"Password:"),r.a.createElement(oe.a.Control,{type:"password",placeholder:"Password",name:"password",value:f,onChange:function(e){return v(e)}})),r.a.createElement(oe.a.Group,{controlId:"formBasicConfirmPassword"},r.a.createElement(oe.a.Label,null,"Confirm Password:"),r.a.createElement(oe.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:g,onChange:function(e){return v(e)}})),r.a.createElement(U.a,{variant:"primary btn-block",type:"submit",className:"mt-4"},"Submit")),r.a.createElement("div",{className:"mt-3"},r.a.createElement(s.Link,{to:"/login"},"Already have an account? Login instead")))))})),me={setAlert:j,login:function(e,a){return function(t){var n,r,c,l;return k.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:a}),s.prev=2,s.next=5,k.a.awrap(C.post("/api/users/user/login",r,n));case 5:c=s.sent,t({type:"LOGIN_SUCCESS",payload:c.data}),t(A()),s.next=15;break;case 10:s.prev=10,s.t0=s.catch(2),(l=s.t0.response.data.errors)&&l.forEach((function(e){return t(j(e.msg,"danger"))})),t({type:"LOGIN_FAIL"});case 15:case"end":return s.stop()}}),null,null,[[2,10]])}}},de=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),me)((function(e){var a=e.login,t=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),l=Object(le.a)(c,2),i=l[0],u=l[1],m=i.email,d=i.password,E=function(e){u(Object(h.a)({},i,Object(ce.a)({},e.target.name,e.target.value)))};return t?r.a.createElement(o.c,{to:"/dash"}):r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"my-5 p-2 shadow-sm"},r.a.createElement(se.a.Header,{style:{"background-color":"white"}},r.a.createElement("h3",null,"Login")),r.a.createElement(se.a.Body,null,r.a.createElement(oe.a,{onSubmit:function(e){return function(e){return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a(m,d);case 2:case"end":return t.stop()}}))}(e)}},r.a.createElement(oe.a.Group,{controlId:"formBasicEmail"},r.a.createElement(oe.a.Label,null,"Email address:"),r.a.createElement(oe.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:m,onChange:function(e){return E(e)}})),r.a.createElement(oe.a.Group,{controlId:"formBasicPassword"},r.a.createElement(oe.a.Label,null,"Password:"),r.a.createElement(oe.a.Control,{type:"password",placeholder:"Password",name:"password",value:d,onChange:function(e){return E(e)}})),r.a.createElement(U.a,{variant:"primary btn-block",type:"submit",className:"mt-4"},"Submit")),r.a.createElement("div",{className:"mt-3"},r.a.createElement(s.Link,{to:"/register"},"Don't have an account? Register instead")))))})),Ee=function(){return function(e){var a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.awrap(C.get("/api/users/user/selectedReceiver"));case 3:a=t.sent,e({type:"SET_SELECTED",payload:a.data}),e(A()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"SELECTED_ERROR",payload:{msg:t.t0.response}});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}},pe={setMetrics:function(){return function(e){var a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.awrap(C.get("/api/transactions/metrics"));case 3:a=t.sent,e({type:"SET_METRICS",payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e({type:"METRICS_ERROR",payload:{msg:t.t0.response}});case 10:case"end":return t.stop()}}),null,null,[[0,7]])}}},fe=Object(i.b)((function(e){return{metrics:e.metrics}}),pe)((function(e){var a=e.metrics,t=a.metrics,c=a.loading,l=e.setMetrics;return Object(n.useEffect)((function(){l()}),[l]),r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm p-3 my-3"},r.a.createElement(z.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,null,"Today: $",t.oneDayTotal&&!c&&t.oneDayTotal.toFixed(2)),r.a.createElement(K.a,null,"This Week: $",t.oneWeekTotal&&!c&&t.oneWeekTotal.toFixed(2)),r.a.createElement(K.a,null,"This Month: $",t.oneMonthTotal&&!c&&t.oneMonthTotal.toFixed(2)),r.a.createElement(K.a,null,"This Year: $",t.oneYearTotal&&!c&&t.oneYearTotal.toFixed(2))))))})),he=t(118),ge=t(120),ve={setGraph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week";return function(a){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t={},"month"!==e){n.next=8;break}return n.next=5,k.a.awrap(C.get("/api/transactions/month"));case 5:t=n.sent,n.next=17;break;case 8:if("year"!==e){n.next=14;break}return n.next=11,k.a.awrap(C.get("/api/transactions/year"));case 11:t=n.sent,n.next=17;break;case 14:return n.next=16,k.a.awrap(C.get("/api/transactions/week"));case 16:t=n.sent;case 17:a({type:"SET_GRAPH",payload:t.data}),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(0),a({type:"GRAPH_ERROR",payload:{msg:n.t0.response}});case 23:case"end":return n.stop()}}),null,null,[[0,20]])}}},ye=Object(i.b)((function(e){return{graph:e.graph}}),ve)((function(e){var a=e.graph.graphData,t=e.setGraph,c=Object(n.useState)(!0),l=Object(le.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(!1),u=Object(le.a)(i,2),m=u[0],d=u[1],E=Object(n.useState)(!1),p=Object(le.a)(E,2),f=p[0],h=p[1];Object(n.useEffect)((function(){t()}),[t]);var g={labels:a.graphDates,datasets:[{label:a.graphTitle,fill:!1,lineTension:.1,backgroundColor:"rgba(2,117,216,0.4)",borderColor:"rgba(2,117,216,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(2,117,216,1)",pointBackgroundColor:"#fff",pointBorderWidth:3,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(2,117,216,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:15,data:a.graphAmounts}]};return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},r.a.createElement(se.a.Body,null,r.a.createElement(se.a.Title,null,a.graphTitle,":"),r.a.createElement(he.a,{data:g,options:{legend:{display:!1},tooltips:{displayColors:!1}}}),r.a.createElement(ge.a,{className:"my-2"},r.a.createElement(U.a,{variant:"primary",onClick:function(e){e.preventDefault(),t("week"),o(!0),d(!1),h(!1)},disabled:s,className:"mr-1"},"Weekly"),r.a.createElement(U.a,{variant:"primary",onClick:function(e){e.preventDefault(),t("month"),o(!1),d(!0),h(!1)},disabled:m,className:"mx-1"},"Monthly"),r.a.createElement(U.a,{variant:"primary",onClick:function(e){e.preventDefault(),t("year"),o(!1),d(!1),h(!0)},disabled:f,className:"ml-1"},"Yearly")))))})),be=t(61),Re={deleteSelected:function(e){return function(a){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(C.delete("/api/users/user/selectedReceiver/".concat(e)));case 3:a({type:"CLEAR_SELECTED"}),a(A()),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),(t=n.t0.response.data.errors)&&t.forEach((function(e){return a(j(e.msg,"danger"))})),a({type:"SELECTED_ERROR",payload:{msg:n.t0.response}});case 12:case"end":return n.stop()}}),null,null,[[0,7]])}}},Se=Object(i.b)(null,Re)((function(e){var a=e.receiverId,t=e.receiverName,c=e.receiverDescription,l=e.receiverImage,s=e.deleteSelected;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm"},r.a.createElement(se.a.Body,null,r.a.createElement(z.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:2},r.a.createElement(be.a,{src:l,rounded:!0,fluid:!0})),r.a.createElement(K.a,{sm:9},r.a.createElement(J.a,null,r.a.createElement(se.a.Title,null,t)),r.a.createElement(J.a,null,r.a.createElement(se.a.Text,null,c))),r.a.createElement(K.a,{sm:1},r.a.createElement(U.a,{variant:"link",onClick:function(){return s(a)},className:"mt-4 mb-1"},r.a.createElement(Y.a,{icon:$.e,size:"4x",color:"red"}))))))))})),Oe={setSelected:Ee},we=Object(i.b)((function(e){return{selected:e.selected}}),Oe)((function(e){var a=e.selected,t=a.selectedReceiver,c=a.loading,l=e.setSelected;Object(n.useEffect)((function(){l()}),[l]);var o=r.a.createElement(n.Fragment,null,r.a.createElement(se.a.Body,null,r.a.createElement(se.a.Title,null,"Select Receiver:"),r.a.createElement(s.Link,{to:"/search"},r.a.createElement(U.a,null,"Add Receiver")))),i=r.a.createElement(n.Fragment,null,r.a.createElement(se.a.Body,null,r.a.createElement(se.a.Title,null,"Selected Receiver:"),!c&&null!==t&&r.a.createElement(Se,{receiverId:t._id,receiverName:t.name,receiverDescription:t.description,receiverImage:t.image})));return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},!c&&r.a.createElement(n.Fragment,null,null===t?o:i)))})),xe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(fe,null),r.a.createElement(ye,null),r.a.createElement(we,null))},Te=function(){return function(e){var a,t,n;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k.a.awrap(C.get("/api/receivers/receiver"));case 3:return a=r.sent,e({type:"SET_USER_RECEIVER",payload:a.data}),r.next=7,k.a.awrap(C.post("/api/receivers/receiver/dash"));case 7:t=r.sent,e({type:"SET_RECEIVER_DASH_LINK",payload:t.data}),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(0),(n=r.t0.response.data.errors)&&n.forEach((function(a){return e(j(a.msg,"danger"))})),e({type:"RECEIVERS_ERROR",payload:{msg:r.t0.response.statusText}});case 16:case"end":return r.stop()}}),null,null,[[0,11]])}},ke={addSelected:function(e){var a=e.receiverId;return function(e){var t,n,r;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t={headers:{"Content-Type":"application/json"}},n=JSON.stringify({receiverId:a}),c.prev=2,c.next=5,k.a.awrap(C.post("/api/users/user/selectedReceiver",n,t));case 5:e(Ee()),e(A()),c.next=14;break;case 9:c.prev=9,c.t0=c.catch(2),(r=c.t0.response.data.errors)&&r.forEach((function(a){return e(j(a.msg,"danger"))})),e({type:"SELECTED_ERROR",payload:{msg:c.t0.response}});case 14:case"end":return c.stop()}}),null,null,[[2,9]])}}},Ne=Object(i.b)(null,ke)((function(e){var a=e.receiverId,t=e.receiverName,c=e.receiverDescription,l=e.receiverImage,s=e.addSelected;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"my-3 shadow-sm"},r.a.createElement(se.a.Body,null,r.a.createElement(z.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:2},r.a.createElement(be.a,{src:l,rounded:!0,fluid:!0})),r.a.createElement(K.a,{sm:9},r.a.createElement(J.a,null,r.a.createElement(se.a.Title,null,t)),r.a.createElement(J.a,null,r.a.createElement(se.a.Text,null,c))),r.a.createElement(K.a,{sm:1},r.a.createElement(U.a,{variant:"link",onClick:function(){return function(e){s({receiverId:e})}(a)},className:"mt-4 mb-1"},r.a.createElement(Y.a,{icon:$.c,size:"4x"}))))))))})),Ce={setReceivers:function(){return function(e){var a,t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(C.get("/api/receivers/"));case 3:a=n.sent,e({type:"SET_RECEIVERS",payload:a.data}),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),(t=n.t0.response.data.errors)&&t.forEach((function(a){return e(j(a.msg,"danger"))})),e({type:"RECEIVERS_ERROR",payload:{msg:n.t0.response.statusText}});case 12:case"end":return n.stop()}}),null,null,[[0,7]])}}},Ie=Object(i.b)((function(e){return{receivers:e.receivers,selected:e.selected}}),Ce)((function(e){var a=e.receivers,t=a.receiversData,c=a.loading,l=e.selected.selectedReceiver,s=e.setReceivers;if(Object(n.useEffect)((function(){s()}),[s]),l)return r.a.createElement(o.c,{to:"/dash"});var i=c?r.a.createElement("h1",null,"Loading"):null!==l?r.a.createElement("h1",null,"Already have a receiver selected"):t.map((function(e){return r.a.createElement(n.Fragment,{key:e._id},r.a.createElement(Ne,{receiverId:e._id,receiverName:e.name,receiverDescription:e.description,receiverImage:e.image}))}));return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},r.a.createElement(se.a.Header,{style:{"background-color":"white"}},r.a.createElement("h3",null,"Available Recipients:")),r.a.createElement(se.a.Body,null,i)))})),Le=function(){return function(e){var a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.awrap(C.get("/api/plaid/user/items"));case 3:a=t.sent,e({type:"SET_PLAID_ITEMS",payload:a.data}),e(A()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"PLAID_ERROR",payload:{msg:t.t0.response.statusText}});case 11:case"end":return t.stop()}}),null,null,[[0,8]])}},je=t(121),_e=t.n(je),Ae={setPublicToken:function(e,a,t){return function(n){var r,c;return k.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({publicToken:e,accountId:a,name:t}),l.prev=2,l.next=5,k.a.awrap(C.post("/api/plaid/auth/public_token",c,r));case 5:n({type:"SET_PUBLIC_TOKEN"}),n(Le()),n(A()),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(2),n({type:"PLAID_ERROR",payload:{msg:l.t0.response.statusText}});case 13:case"end":return l.stop()}}),null,null,[[2,10]])}}},De=Object(i.b)((function(e){return{plaid:e.plaid}}),Ae)((function(e){var a=e.setPublicToken;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm"},r.a.createElement(se.a.Body,null,r.a.createElement(_e.a,{clientName:"React Plaid Setup",env:"sandbox",product:["auth","transactions"],publicKey:"18d9205e9c8060e88c9d25163276e6",webhook:"https://webhook.site/d0d9f89c-9b6a-4c5e-9652-19521b4d8160",onExit:function(){},onSuccess:function(e,t){var n=t.account_id,r=t.account.name;a(e,n,r)},className:"test"},"Connect your bank"))))})),Fe={deletePlaidItem:function(e){return function(a){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(C.delete("/api/plaid/user/item/".concat(e)));case 3:a({type:"CLEAR_PLAID_ITEMS"}),a(A()),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),(t=n.t0.response.data.errors)&&t.forEach((function(e){return a(j(e.msg,"danger"))})),a({type:"PLAID_ERROR",payload:{msg:n.t0.response.statusText}});case 12:case"end":return n.stop()}}),null,null,[[0,7]])}}},Pe=Object(i.b)((function(e){return{plaid:e.plaid}}),Fe)((function(e){var a=e.plaid,t=a.plaidItems,c=t._id,l=t.accountName,s=a.loading,o=e.deletePlaidItem;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm"},r.a.createElement(se.a.Body,null,r.a.createElement(z.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:11},r.a.createElement(se.a.Title,{className:"my-2"},s?r.a.createElement("h1",null,"Loading"):null!==l&&r.a.createElement("h3",null,l))),r.a.createElement(K.a,{sm:1},r.a.createElement(U.a,{variant:"link",onClick:function(){return o(c)}},r.a.createElement(Y.a,{icon:$.e,size:"2x",color:"red"}))))))))})),Be={setPlaidItems:Le},Ge=Object(i.b)((function(e){return{plaid:e.plaid}}),Be)((function(e){var a=e.plaid,t=a.plaidItems,c=a.loading,l=e.setPlaidItems;Object(n.useEffect)((function(){l()}),[l]);var s=r.a.createElement(n.Fragment,null,r.a.createElement("h6",null,"Register Bank Account:"),r.a.createElement(De,null)),o=r.a.createElement(n.Fragment,null,r.a.createElement("h6",null,"Registered Bank Account:"),r.a.createElement(Pe,null));return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},r.a.createElement(se.a.Header,{style:{"background-color":"white"}},r.a.createElement("h3",null,"Settings")),r.a.createElement(se.a.Body,null,!c&&r.a.createElement(n.Fragment,null,null===t?s:o))))})),Ue={updateReceiver:function(e,a,t,n){return function(r){var c,l,s,o;return k.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return c={headers:{"Content-Type":"application/json"}},l=JSON.stringify({firstName:e,lastName:a,description:t,image:n}),i.prev=2,i.next=5,k.a.awrap(C.post("/api/receivers/receiver",l,c));case 5:s=i.sent,r(j(s.data.msg,"success")),r(Te()),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(2),(o=i.t0.response.data.errors)&&o.forEach((function(e){return r(j(e.msg,"danger"))})),r({type:"RECEIVERS_ERROR",payload:{msg:i.t0.response.statusText}});case 15:case"end":return i.stop()}}),null,null,[[2,10]])}}},Me=Object(i.b)((function(e){return{auth:e.auth}}),Ue)((function(e){var a=e.auth,t=a.user,c=(a.loading,e.updateReceiver),l=Object(n.useState)({description:"",image:""}),s=Object(le.a)(l,2),o=s[0],i=s[1],u=o.description,m=o.image,d=function(e){i(Object(h.a)({},o,Object(ce.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Header,{style:{"background-color":"white"}},r.a.createElement("h5",null,"Add/Update Receiver")),r.a.createElement(se.a.Body,null,r.a.createElement(oe.a,{onSubmit:function(e){return function(e){return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),console.log({firstName:t.firstName,lastName:t.lastName,description:u,image:m}),a.next=4,k.a.awrap(c(t.firstName,t.lastName,u,m));case 4:case"end":return a.stop()}}))}(e)}},r.a.createElement(oe.a.Group,{controlId:"formDescription"},r.a.createElement(oe.a.Label,null,"Description:"),r.a.createElement(oe.a.Control,{type:"text",placeholder:"Enter description",name:"description",value:u,onChange:function(e){return d(e)}})),r.a.createElement(oe.a.Group,{controlId:"formImage"},r.a.createElement(oe.a.Label,null,"Image URL:"),r.a.createElement(oe.a.Control,{type:"text",placeholder:"Enter image url",name:"image",value:m,onChange:function(e){return d(e)}})),r.a.createElement(U.a,{variant:"primary btn-block",type:"submit",className:"mt-4"},"Submit")))))})),He=function(e){var a=e.dashLink;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},r.a.createElement(se.a.Body,null,r.a.createElement("a",{href:a},r.a.createElement(U.a,null,"Go to Stripe Dash")))))},Ve={receiverStripeAuth:function(){return function(e){var a;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.awrap(C.get("/api/receivers/receiver/auth"));case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),(a=t.t0.response.data.errors)&&a.forEach((function(a){return e(j(a.msg,"danger"))})),e({type:"RECEIVERS_ERROR",payload:{msg:t.t0.response.statusText}});case 10:case"end":return t.stop()}}),null,null,[[0,5]])}}},We=Object(i.b)(null,Ve)((function(e){e.receiverStripeAuth;return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},r.a.createElement(se.a.Body,null,r.a.createElement("a",{href:"https://connect.stripe.com/express/oauth/authorize?redirect_uri=https://connect.stripe.com/connect/default/oauth/test&client_id=ca_GczqET5WCUcwzeU5oBZPun5CWnm9uvvt&state=123"},r.a.createElement(U.a,null,"Create Stipe Account")))))})),ze={setUserReceiver:Te},Je=Object(i.b)((function(e){return{userReceiver:e.receivers.userReceiver,dashLink:e.receivers.dashLink,loading:e.receivers.loading}}),ze)((function(e){var a=e.userReceiver,t=e.loading,c=e.setUserReceiver,l=e.dashLink;return Object(n.useEffect)((function(){c()}),[c]),r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{className:"shadow-sm my-3"},r.a.createElement(se.a.Header,{style:{"background-color":"white"}},r.a.createElement("h3",null,"Receiver Info")),r.a.createElement(se.a.Body,null,!t&&!a&&r.a.createElement(We,null),!t&&a&&r.a.createElement(n.Fragment,null,l&&r.a.createElement(He,{dashLink:l}),r.a.createElement(Me,null)))))})),Ke=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,null,r.a.createElement(J.a,{className:"p-5 justify-content-center"},r.a.createElement(Y.a,{icon:$.b,size:"4x",color:"red",className:"p-2"}),r.a.createElement("h1",{className:"p-2"},"Sorry, Page Not Found"))))},Ye=t(124),$e=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.component,t=e.auth,n=t.isAuthenticated,c=t.loading,l=Object(Ye.a)(e,["component","auth"]);return r.a.createElement(o.d,Object.assign({},l,{render:function(e){return n||c?r.a.createElement(a,e):r.a.createElement(o.c,{to:"/login"})}}))})),qe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(z.a,null,r.a.createElement(re,null),r.a.createElement(o.g,null,r.a.createElement(o.d,{exact:!0,path:"/login",component:de}),r.a.createElement(o.d,{exact:!0,path:"/register",component:ue}),r.a.createElement($e,{exact:!0,path:"/dash",component:xe}),r.a.createElement($e,{exact:!0,path:"/search",component:Ie}),r.a.createElement($e,{exact:!0,path:"/receiver",component:Je}),r.a.createElement($e,{exact:!0,path:"/settings",component:Ge}),r.a.createElement(o.d,{component:Ke}))))};localStorage.token&&_(localStorage.token);var Ze=function(){return Object(n.useEffect)((function(){x.dispatch(A())}),[]),r.a.createElement(i.a,{store:x},r.a.createElement(s.BrowserRouter,null,r.a.createElement("div",{style:{background:"#eceff1"}},r.a.createElement(W,null),r.a.createElement(o.g,null,r.a.createElement(o.d,{exact:!0,path:"/",component:ee}),r.a.createElement(o.d,{component:qe})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[125,1,2]]]);
//# sourceMappingURL=main.2b61e558.chunk.js.map